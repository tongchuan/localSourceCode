<!DOCTYPE html>
<html>
<head>
	<title>像素操作</title>
</head>
<body>
<canvas id="canvas" style="border:1px solid #099" width="300" height="300"></canvas>
<div id="color">dddddd</div>
</body>
</html>

<script type="text/javascript">
var img = new Image()
var canvas = document.getElementById('canvas')
var ctx = canvas.getContext('2d')
var color = document.getElementById('color')
img.onload = function(){
	ctx.drawImage(img, 0 , 0)
	img.style.display = 'none'
}
function pick(event){
	var x = event.layerX;
	var y = event.layerY;
	var pixel = ctx.getImageData(x,y,1,1)
	var data = pixel.data
	console.log(data)
	var rgba = 'rgba('+data[0]+','+data[1]+','+data[2]+','+data[3]/255+')'
	color.style.background = rgba
	color.textContent = rgba
}
img.src = './img.jpg'

canvas.addEventListener('mousemove', pick)
</script>
